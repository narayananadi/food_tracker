<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Food Tracker | Dashboard</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='css/img/favicon.ico') }}">

    <link href="https://fonts.googleapis.com/css?family=Oswald|Ubuntu:400,700" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <!-- jinja -->
    <link rel="stylesheet" href="{{ url_for('static', filename='bs/css/united.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}" />

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.0.1/chart.min.js"
        integrity="sha512-tQYZBKe34uzoeOjY9jr3MX7R/mo7n25vnqbnrkskGr4D6YOoPYSpyafUAzQVjV6xAozAqUFIEFsCO4z8mnVBXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body onload="depression()">
    <div class="container-fluid" id="wrapper">
        <div class="row" id="homeJumbo">
            <div class="overlay"></div>
            <div class="col-lg-12">
                <h1>Welcome to
                    <a href="{{ url_for('main.index') }}">FOOD TRACKER</a>, {{ user_details.name }}!
                </h1>

                <div class="row t20">
                    <div class="col-lg-4 col-lg-offset-4">
                        <ul class="nav nav-pills nav-justified">
                            <li role="presentation" class="active">
                                <a href="{{ url_for('main.index') }}" title="Home">Home</a>
                            </li>
                            <li role="presentation">
                                <a href="{{ url_for('main.add') }}" title="Add Food Item">Add Food Item</a>
                            </li>
                            <li role="presentation">
                                <a href="{{ url_for('main.dashboard') }}" title="Profile">Dashboard</a>
                            </li>
                            <li role="presentation">
                                <a href="{{ url_for('main.user_profile') }}" title="Profile">Profile</a>
                            </li>
                            <li role="login">
                                <a href="/logout" title="logout">Logout</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <center>
        <div class="prog_container">
            <div class="bar_pro" role="progressbar" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"
                style="--value:30">
                <span class="nutr">Calorie</span>
            </div>
            <div class="bar_pro" role="progressbar" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"
                style="--value:50">
                <span class="nutr">Fats</span>
            </div>
            <div class="bar_pro" role="progressbar" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"
                style="--value:70">
                <span class="nutr">Protein</span>
            </div>
            <div class="bar_pro" role="progressbar" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"
                style="--value:30">
                <span class="nutr">Carbs</span>
            </div>
        </div>
        <div class="prog_container">
            <button>Add Food</button>
            <button>Add log</button>
        </div>
        <div class="prog_container">
            <div class="prog">
                <div class="chartjs">
                    <canvas class="chdata" id="cal"></canvas>
                </div>
            </div>
            <div class="prog">
                <div class="chartjs">
                    <canvas class="chdata" id="fts"></canvas>
                </div>
            </div>
        </div>
        <div class="prog_container">
            <div class="prog">
                <div class="chartjs">
                    <canvas class="chdata" id="prot"></canvas>
                </div>
            </div>
            <div class="prog">
                <div class="chartjs">
                    <canvas class="chdata" id="cbhs"></canvas>
                </div>
            </div>
        </div>
        <div class="prog_container">
            <table class="det_tab">
                <tr>
                    <th>Weight</th>
                    <th>Height</th>
                    <th>Calories</th>
                    <th>Carbohydrates</th>
                    <th>Proteins</th>
                    <th>Fats</th>
                    <th>BMI</th>
                </tr>
                <tr>
                    <td id="weight">{{ user_details.height }}</td>
                    <td id="height">{{ user_details.weight }}</td>
                    <td>{{ user_details.calories }}</td>
                    <td>{{ user_details.carbs }}</td>
                    <td>{{ user_details.proteins }}</td>
                    <td>{{ user_details.fats }}</td>
                    <td id="res"></td>
                </tr>
            </table>
        </div>
    </center>
    <!-- jQuery -->
    <script src="{{ url_for('static', filename='bs/js/jquery.min.js') }}"></script>
    <!-- Bootstrap JavaScript -->
    <script src="{{ url_for('static', filename='bs/js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
    <!-- chartjs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.0.1/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.0.1/chart.min.js"
    integrity="sha512-tQYZBKe34uzoeOjY9jr3MX7R/mo7n25vnqbnrkskGr4D6YOoPYSpyafUAzQVjV6xAozAqUFIEFsCO4z8mnVBXA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{{ url_for('static', filename='js/profile.js') }}"></script>
    <!-- chart scripting starts here
         cal-calorie, fts- fats, prot- protein, cbhs carbohydrates -->

    <script>
        const cal = document.getElementById('cal').getContext('2d');
        const fts = document.getElementById('fts').getContext('2d');
        const prot = document.getElementById('prot').getContext('2d');
        const cbhs = document.getElementById('cbhs').getContext('2d');
        Chart.defaults.color = "#000000";

        new Chart(cal, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'April', 'May', 'June', 'July'],
                datasets: [{
                    data: [86,114,106,106,107,111,133],
                    label: "Total",
                    borderColor: "#3e95cd",
                    backgroundColor: "#7bb6dd",
                    fill: false,
                }]
            }
        });

        new Chart(fts, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'April', 'May', 'June', 'July'],
                datasets: [{
                    data: [70,90,44,60,83,90,100],
                    label: "Accepted",
                    borderColor: "#3cba9f",
                    backgroundColor: "#71d1bd",
                    fill: false,
                }]
            }
        });

        new Chart(prot, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'April', 'May', 'June', 'July'],
                datasets: [{
                    data: [6,3,2,2,7,0,16],
                    label: "Rejected",
                    borderColor: "#c45850",
                    backgroundColor:"#d78f89",
                    fill: false
                }]
            }
        });

        new Chart(cbhs, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'April', 'May', 'June'],
                datasets: [{
                    data: [10,21,60,44,17,21,17],
                    label: "Pending",
                    borderColor: "#ffa500",
                    backgroundColor:"#ffc04d",
                    fill: false,
                }]
            }
        });
    </script>

</body>

</html>